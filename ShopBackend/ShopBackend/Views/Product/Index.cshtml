@using ShopBackend.Models;
@model IEnumerable<Product_Index_Viewmodel>

@{
    ViewBag.Title = "Danh mục sản phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section content_header{
    <h1>
        Danh mục sản phẩm
        <small>Chứa tất cả các sản phẩm hiện có của shop</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Danh mục</a></li>
        <li class="active">Sản phẩm</li>
    </ol>
}

@section content_main{
    <form action="~/Product/Delete" method="post">
        <div class="box">
            <div class="box-header with-border">
                <h3 class="box-title">Danh mục sản phẩm</h3>
                <div class="pull-right">
                    <a href="~/Product/Create">
                        <div class="btn btn-success">
                            <i class="fa fa-fw fa-plus"></i>Thêm
                        </div>
                    </a>
                    <button type="submit" class="btn btn-danger"><i class="fa fa-fw fa-remove"></i> Xoá </button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <table class="table table-bordered table-hover">
                    <tbody>
                    <thead class="thead-dark">
                        <tr>
                            <th>
                                <input type="checkbox" id="selectAll" />
                            </th>
                            <th>Ảnh</th>
                            <th>Tên sản phẩm</th>
                            <th>Model</th>
                            <th>Số lượng</th>
                            <th>Trạng thái</th>
                            <th style="width: 20px">Hành động</th>
                        </tr>
                    </thead>
                    @foreach (Product_Index_Viewmodel item in Model)
                    {
                        <tr>
                            <td style="width: 10px">
                                <input type="checkbox" name="checked" value="@item.product_id" />
                            </td>
                            <td>
                                <img src="~/image/@item.image" alt="Apple Cinema 30&quot;" class="img-thumbnail" style="width:50px;max-height : 80px">

                            </td>
                            <td>@item.name</td>
                            <td>@item.model</td>
                            <td>@item.quantity</td>
                            <td>@item.status</td>
                            <td>
                                <a href="/Product/Edit/@item.product_id" data-toggle="tooltip" title="" class="btn btn-primary" data-original-title="Edit">
                                    <i class="fa fa-pencil"></i>
                                </a>
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
            <div class="box-footer clearfix">
                <ul class="pagination pagination-sm no-margin pull-right">
                    @if (ViewBag.Page > 1)
                    {
                        <li><a href="Product/?page=@(ViewBag.Page-1)">previous</a></li>
                    }
                    @if (ViewBag.Page < ViewBag.PageCount)
                    {
                        <li><a href="Product/?page=@(ViewBag.Page+1)">next</a></li>
                    }
                </ul>
            </div>
        </div>
    </form>
}

@section scripts{
    <script>
        $("#selectAll").click(function () {
            $("input[type=checkbox]").prop('checked', $(this).prop('checked'));
        });
    </script>
}
